<!DOCTYPE html>
<html>
<head>
    <title>Панель администратора</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="module" src="./script.js"></script>
</head>
<body onload="getTokenAndDisplaySettings(); User.update_user_info();">

    <div class="menu">
        <a href="/">Главная</a>
        <a href="/frontend/settings">Админ панель</a>
        <a href="/frontend/auth/login">Вход</a>
        <a href="/frontend/auth/register">Регистрация</a>
        <a href="/logout" id="logout_button">Выйти</a>
        <a href="/frontend/schedule/">Бронирование</a>
        <span id="username" style="float:right; color:white; padding: 14px 16px;"></span>
    </div>

    <h1>Панель администратора</h1>

    <div class="submenu">
        <a href="/frontend/schedule/">Бронирование</a>
        <a href="/frontend/time_periods/">Создание временных промежутков</a>
        <a href="">Управление пользователями</a>
    </div>

    <h2>Добавить новую настройку</h2>
    <form onsubmit="event.preventDefault(); getTokenAndAddSetting();">
        <label for="new-name">Имя:</label>
        <input type="text" id="new-name" required>
        <label for="new-slug">Слаг:</label>
        <input type="text" id="new-slug" required>
        <label for="new-value">Значение:</label>
        <input type="text" id="new-value" required>
        <button type="submit">Добавить</button>
    </form>
    <div id="message-container"></div>
    <h2>Существующие настройки</h2>
    <table id="settings-table">
        <thead>
            <tr>
                <th>Имя</th>
                <th>Слаг</th>
                <th>Значение</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
            <!-- Настройки будут добавлены сюда динамически -->
        </tbody>
    </table>
    <!-- <script>
        Window.onload = getTokenAndDisplaySettings();
    </script> -->
    <!-- <script>getTokenAndDisplaySettings()</script> -->
</body>
</html>
